<?xml version="1.0" encoding="UTF-8" ?>

<odoo noupdate="0">

    <!-- Multicompany
        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
    <record id="ir_rule_restricted_training_action_multi_company" model="ir.rule">
        <field name="name">Restricted Training Action: multi-company</field>
        <field name="model_id" ref="academy_base.model_academy_training_action"/>
        <field name="global" eval="True"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
    </record>

    <record id="ir_rule_restricted_training_action_enrolment_multi_company" model="ir.rule">
        <field name="name">Restricted Training Action Enrolment: multi-company</field>
        <field name="model_id" ref="academy_base.model_academy_training_action_enrolment"/>
        <field name="global" eval="True"/>
        <field name="domain_force">[('company_id', 'in', company_ids)]</field>
    </record>

    <!-- No one can write/delete THIS specific cron
    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
    <record id="ir_rule_block_edit_academy_maintenance_cron" model="ir.rule">
      <field name="name">Block write/unlink on Academy maintenance cron</field>
      <field name="model_id" ref="base.model_ir_cron"/>
      <field name="domain_force">
        [('id','!=', user.env.ref('academy_base.ir_cron_academy_maintenance_task').id)]
      </field>
      <field name="perm_write" eval="True"/>
      <field name="perm_unlink" eval="True"/>
      <field name="perm_read" eval="False"/>
      <field name="perm_create" eval="False"/>
    </record>

</odoo>
